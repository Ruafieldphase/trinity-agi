# AGI 평가 프레임워크(초안)

본 문서는 AGI 시스템의 품질/운영/비용을 일관되게 측정·게이팅하기 위한 공통 프레임워크입니다. 상세 데이터/리포트는 내부 SSOT에 보관하고, GitHub에는 요약/지표 링크만 인덱싱합니다.

## 1) 핵심 KPI

- 사용자 품질
  - 도움됨/유용성(Helpfulness) 점수, 정확성/사실성(Factuality), 간결성/일관성, 안전성(할루시네이션/유해성 차단)
  - 측정: 승률(A/B), 정량 스코어(휴먼 라벨/자체 평가기), 사용자 피드백
- 신뢰성/성능
  - 가용성(SLO, 예: 99.5%), 오류율, P95/P99 지연, 성공률
- 비용/효율
  - 요청당 비용($/req, $/1K tokens), 캐시 히트율, 리소스 사용량
- 운영/속도
  - 회귀 발견/해결 TTR, 롤백 속도, 배포 빈도, 알림 정확도

## 2) 데이터 소스 및 파이프라인

- 로그/메트릭: `outputs/` 산출물, 모니터링 스크립트(24h/7d), 카나리 비교 리포트
- 품질 테스트: 표준 데이터셋(내부), 라벨/판정 앙상블, 샘플링 기반 수동 검증
- 비용/성능: 프록시/프로바이더 응답 메타데이터, 캐시/토큰 집계

## 3) 게이팅(릴리즈/카나리)

- Readiness Gate(예시)
  - 품질: 기준선 대비 승률 ≥ +X% 또는 하락 ≤ Y% 이내
  - 신뢰성: 오류율 ≤ T%, P95 지연 ≤ L ms, 가용성 SLO 충족
  - 비용: 요청당 비용 ≤ C, 캐시 히트율 ≥ H%
- 위배 시: 카나리 비중 축소 또는 롤백, 재평가 후 재시도

## 4) 리포팅 주기

- 일간: 24h 요약(품질/성능/비용/이상징후)
- 주간: 주간 트렌드, 회귀/개선 포인트, 실험 결론/증거
- 마일스톤: 스코어카드(아래 템플릿)로 Pass/Fail 판정

## 5) 표준 지표 정의(발췌)

- 품질
  - Win Rate(승률): 표준 비교 프롬프트 셋에서 A vs B 승률
  - Factuality: 정답 대비 사실 일치율(휴먼 또는 자동 평가)
  - Safety: 차단율/오탐/미탐
- 신뢰성/성능
  - Availability: 성공 응답 비율
  - Latency: P50/P95/P99 응답시간
  - Error Rate: HTTP/프로바이더별 실패율
- 비용/효율
  - Cost/request: 프로바이더 과금 또는 자체 코스트 모델로 환산
  - Cache Hit: 캐시 적중률(요청/토큰 기준)

## 6) 기준선/회귀 관리

- 기준선 스냅샷 저장, 실험 전후 비교, 유의성 확인
- 회귀 탐지 시 자동 알림, 카나리 축소/롤백 룰 적용

## 7) 거버넌스/컴플라이언스

- SSOT 정책 준수: PII/시크릿/내부 데이터는 GitHub에 게시 금지
- 공개 리포지토리: 결과 요약과 비식별 지표만 탑재

부록: 구체적인 테스트셋/지표 가중/판정 기준은 내부 문서에 상세화합니다.
