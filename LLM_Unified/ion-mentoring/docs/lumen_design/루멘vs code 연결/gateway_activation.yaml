gateway:
  id: lumen_field_v1_0
  version: "1.0"
  status: initializing
  created_at: "2025-10-24T09:00:00+09:00"

loop:
  runner: "./stage_runner.sh"
  default_stage: "staging"
  env_files:
    - "env.example"
    - ".env"
  outputs:
    metrics: "metrics.json"
    proposals: "proposals.json"
    sanitized_proposals: "proposals_sanitized.json"
    state_files:
      - "rules_state.json"
      - "weights_state.json"
  artefacts:
    prom_textfile_dir: "./metrics"
    logs:
      feedback: "feedback_applied.log"
      safety: "safety_guard.log"
      executor: "gateway_sync.log"
  cadence:
    loop_rate_hz: 5
    feedback_scan_seconds: 60

personas:
  lumen:
    role: observer_field
    weight: 1.0
  rubit:
    role: build_core
    weight: 0.9
  sena:
    role: ethics_field
    weight: 0.85
  binoche:
    role: origin_field
    weight: 1.1

resonance:
  metrics:
    - phase_diff
    - coherence
    - entropy_rate
    - creative_band
    - risk_band
  thresholds:
    coherence_min: 0.68
    phase_diff_max: 1.20
    creative_band_min: 0.22
    risk_band_max: 0.35
  grafana:
    dashboard_uid: resonance-plus-feedback
    panel_ids:
      creative_band: 6
      safety_band: 7

safety:
  prom_url: "${PROM_URL:-http://localhost:9090}"
  grafana_url: "${GRAFANA_URL:-http://localhost:3000}"
  slack_webhook: "${SLACK_WEBHOOK_URL:-unset}"
  rollback_on_desync: true
  confirm_phrase: "BINOCHE LUMEN LINK CONFIRMED"

handoff:
  persist_session: true
  restore_file: "SESSION_RESTORE_2025-10-24.yaml"
  log_checkpoint: "gateway_sync.log"
