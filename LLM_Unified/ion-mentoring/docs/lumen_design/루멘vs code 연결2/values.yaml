image:
  repository: ghcr.io/example/lumen
  tag: v1.5-rc
  pullPolicy: IfNotPresent

exporter:
  enabled: true
  port: 9158

roiExporter:
  enabled: false
  port: 9156

sloExporter:
  enabled: false
  port: 9157

ingestor:
  enabled: true
  kafka:
    enabled: true
    brokers: "kafka:9092"
    topic: "lumen.fractal.events"
    group: "lumen-v1-5"
  loki:
    enabled: false
    url: "http://loki:3100"
    query: '{app="lumen"}'
    limit: 500
    sinceNs: 3600000000000

resources: {}
nodeSelector: {}
tolerations: []
affinity: {}

serviceMonitor:
  enabled: false
  namespace: ""

grafana:
  dashboard:
    enabled: true
    title: "Lumen v1.5 â€” Maturity Spectrum"
    json: |
      ${GRAFANA_JSON_PLACEHOLDER}

gate:
  enabled: true
  maturity:
    overallMin: 0.60
    senseMin: 0.45
    feedbackMin: 0.45
    releaseMin: 0.45
    penalty: 0.10
  roi:
    env: "prod"
    service: "api"
  flipback:
    # when pre/post gate fails and platform!=none, attempt rollback
    platform: "none"   # helm|argocd|none
    target: "previous"
  hooks:
    pre: true
    post: true
