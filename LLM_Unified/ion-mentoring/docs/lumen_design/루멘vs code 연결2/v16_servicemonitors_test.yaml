suite: v16 servicemonitors
templates:
  - templates/v16_servicemonitors.yaml
tests:
  - it: should create enrichment ServiceMonitor when flag enabled
    set:
      featureFlags.enableServiceMonitor: true
      featureFlags.enableV16Enrichment: true
    asserts:
      - contains:
          path: kind
          content: ServiceMonitor
  - it: should create adaptation ServiceMonitor when flag enabled
    set:
      featureFlags.enableServiceMonitor: true
      featureFlags.enableV16Adaptation: true
    asserts:
      - contains:
          path: kind
          content: ServiceMonitor
