{
  "title": "Lumen v1.8 \u2014 Policy History & Drift",
  "schemaVersion": 39,
  "tags": [
    "lumen",
    "v1.8",
    "policy",
    "drift"
  ],
  "panels": [
    {
      "type": "stat",
      "title": "sym vs sym_min",
      "targets": [
        {
          "expr": "lumen_v17_symmetry_score"
        },
        {
          "expr": "lumen_v18_sym_min"
        }
      ],
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 0,
        "y": 0
      }
    },
    {
      "type": "stat",
      "title": "s vs s_min",
      "targets": [
        {
          "expr": "lumen_v17_s_index"
        },
        {
          "expr": "lumen_v18_s_min"
        }
      ],
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 8,
        "y": 0
      }
    },
    {
      "type": "stat",
      "title": "c vs c_min",
      "targets": [
        {
          "expr": "lumen_v17_c_index"
        },
        {
          "expr": "lumen_v18_c_min"
        }
      ],
      "gridPos": {
        "h": 6,
        "w": 8,
        "x": 16,
        "y": 0
      }
    },
    {
      "type": "timeseries",
      "title": "Drift over time",
      "targets": [
        {
          "expr": "lumen_v17_symmetry_score - lumen_v18_sym_min"
        },
        {
          "expr": "lumen_v17_s_index - lumen_v18_s_min"
        },
        {
          "expr": "lumen_v17_c_index - lumen_v18_c_min"
        }
      ],
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 6
      }
    },
    {
      "type": "table",
      "title": "Policy History (requires sqlite datasource)",
      "targets": [
        {
          "rawSql": "SELECT ts,sym_min,s_min,c_min,source FROM policy_history ORDER BY ts DESC LIMIT 100",
          "format": "table",
          "datasource": {
            "type": "frser-sqlite-datasource",
            "uid": "sqlite-lumen-ledger-v18"
          }
        }
      ],
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 14
      }
    },
    {
      "type": "table",
      "title": "Drift Events",
      "targets": [
        {
          "rawSql": "SELECT ts, sym, s, c, sym_min, s_min, c_min, delta_sym, delta_s, delta_c, status FROM drift_events ORDER BY ts DESC LIMIT 200",
          "format": "table",
          "datasource": {
            "type": "frser-sqlite-datasource",
            "uid": "sqlite-lumen-ledger-v18"
          }
        }
      ],
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 24
      }
    }
  ]
}