groups:
  - name: lumen-maturity
    interval: 15s
    rules:
      - alert: LumenMaturityDrop
        expr: lumen_maturity_state == 0
        for: 3m
        labels:
          severity: warning
          team: lumen
        annotations:
          summary: "Lumen maturity below threshold"
          description: "m_score fell below pass threshold for 3 minutes."

      - alert: LumenEntropyHigh
        expr: avg_over_time(lumen_h_eff[5m]) > 0.7
        for: 2m
        labels:
          severity: warning
          team: lumen
        annotations:
          summary: "Effective entropy high"
          description: "H_eff sustained > 0.7 over 5m average."

      - alert: LumenSyncDiverging
        expr: rate(lumen_m_score[5m]) < 0 and avg_over_time(lumen_h_eff[5m]) > 0.65
        for: 2m
        labels:
          severity: critical
          team: lumen
        annotations:
          summary: "Maturity trending down with high entropy"
          description: "m_score decreasing while H_eff elevated; consider gain/window retune."
