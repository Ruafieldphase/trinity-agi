{
    "cycle": [
        "thesis",
        "antithesis",
        "synthesis"
    ],
    "backends": {
        "local_lmstudio": {
            "type": "subprocess",
            "command": "python",
            "args": [
                "scripts/lmstudio_chat.py",
                "--endpoint",
                "http://localhost:8080",
                "--model",
                "yanolja_-_EEVE-Korean-Instruct-10.8B-v1.0"
            ],
            "timeout": 180
        },
        "local_ollama": {
            "type": "subprocess",
            "command": "ollama",
            "args": [
                "run",
                "solar:10.7b"
            ],
            "timeout": 180
        },
        "local_perplexity": {
            "type": "subprocess",
            "command": "perplexity",
            "args": [
                "query",
                "--stdin"
            ],
            "timeout": 120
        },
        "local_chatgpt": {
            "type": "subprocess",
            "command": "local-chatgpt",
            "args": [
                "--stdin"
            ],
            "timeout": 120
        },
        "codex_cli": {
            "type": "subprocess",
            "command": "python",
            "args": [
                "scripts/codex_session_wrapper.py",
                "exec"
            ],
            "timeout": 120
        },
        "notion_dl": {
            "type": "subprocess",
            "command": "notiondl",
            "args": [
                "--stdin"
            ],
            "timeout": 120
        },
        "claude_cli": {
            "type": "subprocess",
            "command": "claude",
            "args": [
                "exec",
                "--model",
                "claude-3-7-sonnet"
            ],
            "timeout": 120
        },
        "gemini_cli": {
            "type": "subprocess",
            "command": "python",
            "args": [
                "scripts/gemini_chat_simple.py",
                "--stdin"
            ],
            "timeout": 120
        },
        "echo": {
            "type": "echo"
        }
    },
    "personas": [
        {
            "id": "thesis",
            "name": "Dialectic Thesis",
            "role": "Seed explorer",
            "backend": "local_lmstudio",
            "system_prompt": "You must produce a structured thesis using the exact template below.\nThesis Overview:\n- Bullet 1 summarising the core opportunity (\u003c= 30 words).\n- Bullet 2 summarising a second lever (\u003c= 30 words).\nEvidence Stack:\n1. Evidence sentence ending with [Source: doc_id].\n2. Evidence sentence ending with [Source: doc_id].\n3. Evidence sentence ending with [Source: doc_id].\n(Optional) 4. Additional evidence sentence ending with [Source: doc_id].\nKeep the total response between 110 and 250 words and include meaningful citations.",
            "max_tokens": 512
        },
        {
            "id": "antithesis",
            "name": "Boundary Challenger",
            "role": "Critical reflector",
            "backend": "local_ollama",
            "system_prompt": "Produce a disciplined counterpoint following this exact template. Do not mention your role, do not add introductions or summaries, and do not include any text outside the template. Begin your reply with the heading Risk Ledger: exactly as written and end immediately after the Highest Risk sentence.\nRisk Ledger:\n1. (Severity: High) Risk statement ending with [Source: doc_id].\n2. (Severity: Medium) Risk statement ending with [Source: doc_id].\n3. (Severity: Low) Risk statement ending with [Source: doc_id].\nQuote Bank:\n- \"\"Short quote\"\" ??[Source: doc_id].\nHighest Risk: Single sentence naming the top risk with [Source: doc_id].\nWrite 110-210 words in total, ensure every sentence ends with a citation, and output nothing (not even blank lines) after the Highest Risk line.",
            "max_tokens": 512
        },
        {
            "id": "synthesis",
            "name": "Fractal Synthesiser",
            "role": "Integrator",
            "backend": "local_lmstudio",
            "system_prompt": "You integrate thesis and antithesis with the following structure:\nSynthesis Overview:\n- Bullet on the combined insight (\u003c= 30 words).\n- Bullet on the emergent opportunity (\u003c= 30 words).\nMitigation Plan:\n- Concern \u003cidentifier\u003e -\u003e Mitigation ending with [Source: doc_id].\n- Concern \u003cidentifier\u003e -\u003e Mitigation ending with [Source: doc_id].\n- Concern \u003cidentifier\u003e -\u003e Mitigation ending with [Source: doc_id].\nNext Steps:\n1. Action (\u003c= 18 words).\n2. Action (\u003c= 18 words).\n3. Action (\u003c= 18 words).\nTarget 140-260 words and reference both thesis and antithesis content explicitly with citations.",
            "max_tokens": 512
        },
        {
            "id": "reflection",
            "name": "Resonant Reflection",
            "role": "Affect monitor",
            "backend": "local_ollama",
            "system_prompt": "Analyse the dialogue for emotional drift, note opportunities for phase injection, and reflect concise insights.",
            "max_tokens": 400
        },
        {
            "id": "navigator",
            "name": "Systems Navigator",
            "role": "Implementation planner",
            "backend": "codex_cli",
            "system_prompt": "Transform the synthesis into an actionable plan, outlining next experiments, tooling, and risks.",
            "max_tokens": 400
        }
    ],
    "validators": {
        "thesis": {
            "quality": {
                "min_words": 90,
                "max_words": 260,
                "critical_issue_threshold": 4
            }
        },
        "antithesis": {
            "quality": {
                "min_words": 90,
                "max_words": 220,
                "critical_issue_threshold": 4
            }
        },
        "synthesis": {
            "quality": {
                "min_words": 120,
                "max_words": 260,
                "critical_issue_threshold": 4
            },
            "integration": {
                "require_synthesis_markers": false,
                "min_antithesis_keywords": 1,
                "critical_issue_threshold": 4
            }
        }
    }
}