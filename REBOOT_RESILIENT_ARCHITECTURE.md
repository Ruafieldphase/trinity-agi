# ğŸš€ Reboot-Resilient Architecture

## ê°œìš”

ì´ ì‹œìŠ¤í…œì€ **ì™„ì „ ììœ¨ ë³µêµ¬**ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ë°ìŠ¤í¬í†±ì„ ì¬ë¶€íŒ…í•˜ê±°ë‚˜ VS Codeë¥¼ ì¬ì‹¤í–‰í•´ë„ ëª¨ë“  êµ¬ì¡°ì™€ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ë³µêµ¬ë˜ê³ , ìƒˆë¡œìš´ ê¸°ëŠ¥ë„ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.

## í•µì‹¬ ê¸°ëŠ¥

### 1. ìë™ ë¶€íŒ… ì‹œì‘ ğŸŒ…

- Windows ë¡œê·¸ì˜¨ ì‹œ Master Orchestratorê°€ ìë™ ì‹¤í–‰
- ëª¨ë“  í•µì‹¬ í”„ë¡œì„¸ìŠ¤ ìë™ ì‹œì‘:
  - Task Queue Server (8091)
  - RPA Worker
  - Monitoring Daemon
  - Self-Healing Watchdog

### 2. ìë™ ì—…ê·¸ë ˆì´ë“œ ğŸ”„

- Git pull í›„ ë³€ê²½ ì‚¬í•­ ê°ì§€:
  - `requirements.txt` â†’ ìë™ `pip install`
  - `package.json` â†’ ìë™ `npm install`
  - ìƒˆ ìŠ¤í¬ë¦½íŠ¸ ê°ì§€ â†’ ìë™ ê¶Œí•œ ì„¤ì •
  - í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ í•„ìš” ì‹œ ìë™ ì¬ì‹œì‘

### 3. ìê°€ ì¹˜ìœ  ğŸ”§

- 5ë¶„ë§ˆë‹¤ ëª¨ë“  í•µì‹¬ í”„ë¡œì„¸ìŠ¤ ìë™ ì²´í¬
- ì£½ì€ í”„ë¡œì„¸ìŠ¤ ìë™ ì¬ì‹œì‘
- ë¡œê·¸ ìë™ ê¸°ë¡ (`outputs/watchdog_log.jsonl`)

### 4. ì¼ì¼ ìë™ ë°±ì—… ğŸ’¾

- ë§¤ì¼ 03:30ì— ìë™ ì‹¤í–‰:
  - ì„¤ì • íŒŒì¼ ë°±ì—… (`.env`, `config.json` ë“±)
  - í•µì‹¬ ì¶œë ¥ë¬¼ ë°±ì—… (ëŒ€ì‹œë³´ë“œ, ë¦¬í¬íŠ¸)
  - ìµœê·¼ 7ì¼ ë¡œê·¸ ë°±ì—…
  - Git ìƒíƒœ ë°±ì—…
- 14ì¼ ì´ìƒ ì˜¤ë˜ëœ ë°±ì—… ìë™ ì‚­ì œ

### 5. VS Code ìë™ ë™ê¸°í™” ğŸ“

- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì—´ ë•Œ ìë™ìœ¼ë¡œ:
  - ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ í™•ì¸
  - ëˆ„ë½ëœ í”„ë¡œì„¸ìŠ¤ ìë™ ì‹œì‘
  - ìµœì‹  ëŒ€ì‹œë³´ë“œ ìë™ ë¹Œë“œ
  - ìƒíƒœ ìš”ì•½ í‘œì‹œ

### 6. ì‹œìŠ¤í…œ ìƒíƒœ ëŒ€ì‹œë³´ë“œ ğŸ¥

- ì¬ë¶€íŒ… í›„ ìë™ ê²€ì¦:

  ```
  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
  â•‘   System Health Dashboard - Post-Reboot     â•‘
  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
    âœ“ Task Queue Server (8091) - Running
    âœ“ RPA Worker - Active
    âœ“ Monitoring Daemon - Collecting metrics
    âœ“ Self-Healing Watchdog - Monitoring
    âœ“ Auto-Start on Boot - Enabled
    âœ“ Daily Auto-Backup - Scheduled
    âœ“ Python Virtual Env - Ready
    âœ“ Recent Output Files (24h) - 12 files
  
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Status: 8/8 checks passed (100%)
    System Status: ğŸŸ¢ ALL SYSTEMS OPERATIONAL
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ```

## ì‚¬ìš©ë²•

### ì´ˆê¸° ì„¤ì • (í•œ ë²ˆë§Œ)

1. **Master Orchestrator ìë™ ì‹œì‘ ë“±ë¡**:

   ```
   Task: ğŸš€ Master: Register Auto-Start (Boot)
   ```

   - Windows ë¡œê·¸ì˜¨ ì‹œ ìë™ ì‹¤í–‰
   - ë¶€íŒ… í›„ 30ì´ˆ ëŒ€ê¸° í›„ ì‹œì‘

2. **ìë™ ë°±ì—… ë“±ë¡**:

   ```
   Task: ğŸ’¾ Backup: Register Daily (03:30)
   ```

   - ë§¤ì¼ ì˜¤ì „ 3ì‹œ 30ë¶„ì— ìë™ ë°±ì—…

### ì¼ìƒì  ì‚¬ìš©

#### ì¬ë¶€íŒ… í›„

1. Windows ë¡œê·¸ì˜¨í•˜ë©´ ìë™ìœ¼ë¡œ ëª¨ë“  ê²ƒì´ ì‹œì‘ë©ë‹ˆë‹¤
2. VS Codeë¥¼ ì—´ë©´ ìë™ìœ¼ë¡œ ë™ê¸°í™”ë©ë‹ˆë‹¤
3. ì•„ë¬´ê²ƒë„ í•  í•„ìš” ì—†ìŠµë‹ˆë‹¤! âœ¨

#### ìƒíƒœ í™•ì¸

```
Task: ğŸ¥ Health: Full System Check
```

- ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ìƒíƒœ í™•ì¸
- ì‹œê°ì  ëŒ€ì‹œë³´ë“œ í‘œì‹œ

#### ë¬¸ì œ ë°œìƒ ì‹œ

```
Task: ğŸ¥ Health: Auto-Fix Issues
```

- ìë™ìœ¼ë¡œ ë¬¸ì œ ê°ì§€ ë° ë³µêµ¬ ì‹œë„

#### ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ í™•ì¸

```
Task: ğŸ”§ Upgrade: Detect and Apply
```

- Git pull í›„ ìƒˆ ì˜ì¡´ì„± ìë™ ì„¤ì¹˜

#### ì¦‰ì‹œ ë°±ì—…

```
Task: ğŸ’¾ Backup: Run Now
```

- ì˜ˆì•½ì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ ë°±ì—…

### VS Code Tasks

#### ìë™ ì‹¤í–‰ (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì—´ ë•Œ)

- `Auto: Bring-up on VS Code Open (safe)`
  - ìë™ìœ¼ë¡œ ì²´ì¸ ì‹¤í–‰:
    1. Server í™•ì¸
    2. Worker í™•ì¸
    3. Core í”„ë¡œë¸Œ
    4. ëª¨ë‹ˆí„°ë§ ë¦¬í¬íŠ¸ ìƒì„±
    5. Realtime ëŒ€ì‹œë³´ë“œ ë¹Œë“œ

#### ë§ˆìŠ¤í„° ì œì–´

- `ğŸš€ Master: Start Orchestrator` - ì¦‰ì‹œ ëª¨ë“  ì‹œìŠ¤í…œ ì‹œì‘
- `ğŸš€ Master: Register Auto-Start (Boot)` - ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ë“±ë¡
- `ğŸš€ Master: Unregister Auto-Start` - ìë™ ì‹œì‘ í•´ì œ
- `ğŸš€ Master: Check Status` - ë“±ë¡ ìƒíƒœ í™•ì¸

#### ì—…ê·¸ë ˆì´ë“œ

- `ğŸ”§ Upgrade: Detect and Apply` - ë³€ê²½ ì‚¬í•­ ê°ì§€ ë° ì ìš©
- `ğŸ”§ Upgrade: Dry-Run` - ì‹œë®¬ë ˆì´ì…˜ë§Œ (ì‹¤ì œ ì ìš© ì•ˆ í•¨)

#### ìƒíƒœ ì²´í¬

- `ğŸ¥ Health: Full System Check` - ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦
- `ğŸ¥ Health: Auto-Fix Issues` - ìë™ ë³µêµ¬ ì‹œë„

#### ë°±ì—…

- `ğŸ’¾ Backup: Register Daily (03:30)` - ì¼ì¼ ë°±ì—… ë“±ë¡
- `ğŸ’¾ Backup: Run Now` - ì¦‰ì‹œ ë°±ì—…

## ì¬ë¶€íŒ… í›„ ìë™ íë¦„

```mermaid
graph TD
    A[Windows ë¶€íŒ…] --> B[ë¡œê·¸ì˜¨]
    B --> C[Master Orchestrator ìë™ ì‹¤í–‰]
    C --> D[ì—…ê·¸ë ˆì´ë“œ ì²´í¬]
    D --> E[Task Queue Server ì‹œì‘]
    E --> F[RPA Worker ì‹œì‘]
    F --> G[Monitoring Daemon ì‹œì‘]
    G --> H[Watchdog ì‹œì‘]
    H --> I[ì‹œìŠ¤í…œ ìƒíƒœ ê²€ì¦]
    I --> J{ëª¨ë‘ ì •ìƒ?}
    J -->|Yes| K[âœ… ì¤€ë¹„ ì™„ë£Œ]
    J -->|No| L[ìë™ ë³µêµ¬ ì‹œë„]
    L --> I
    
    M[VS Code ì—´ê¸°] --> N[Auto Bring-up Task]
    N --> O[ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ í™•ì¸]
    O --> P{ëˆ„ë½ ìˆìŒ?}
    P -->|Yes| Q[ìë™ ì‹œì‘]
    P -->|No| R[ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸]
    Q --> R
    R --> S[âœ… ì‘ì—… ê°€ëŠ¥]
```

## ì—…ê·¸ë ˆì´ë“œ íë¦„

```mermaid
graph LR
    A[Git Pull] --> B[ì»¤ë°‹ í•´ì‹œ ë³€ê²½ ê°ì§€]
    B --> C[requirements.txt ë³€ê²½?]
    C -->|Yes| D[pip install]
    C -->|No| E[package.json ë³€ê²½?]
    E -->|Yes| F[npm install]
    E -->|No| G[ìƒˆ ìŠ¤í¬ë¦½íŠ¸?]
    G -->|Yes| H[ê¶Œí•œ ì„¤ì •]
    D --> I{í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ í•„ìš”?}
    F --> I
    H --> I
    I -->|Yes| J[Master Orchestrator ì¬ì‹œì‘]
    I -->|No| K[âœ… ì™„ë£Œ]
    J --> K
```

## ë°±ì—… êµ¬ì¡°

```
backups/
â”œâ”€â”€ 20250101_033000/
â”‚   â”œâ”€â”€ configs/
â”‚   â”‚   â”œâ”€â”€ .env
â”‚   â”‚   â”œâ”€â”€ config.json
â”‚   â”‚   â””â”€â”€ tasks.json
â”‚   â”œâ”€â”€ outputs/
â”‚   â”‚   â”œâ”€â”€ performance_dashboard_latest.md
â”‚   â”‚   â”œâ”€â”€ monitoring_report_latest.md
â”‚   â”‚   â””â”€â”€ realtime_summary_latest.json
â”‚   â”œâ”€â”€ logs/
â”‚   â”‚   â”œâ”€â”€ system_metrics.jsonl
â”‚   â”‚   â””â”€â”€ watchdog_log.jsonl
â”‚   â””â”€â”€ git_state.json
â”œâ”€â”€ 20250102_033000/
...
```

## ë¡œê·¸ íŒŒì¼

- `outputs/auto_upgrade_log.jsonl` - ì—…ê·¸ë ˆì´ë“œ ì´ë ¥
- `outputs/watchdog_log.jsonl` - Watchdog í™œë™ ë¡œê·¸
- `outputs/master_orchestrator_log.jsonl` - ë§ˆìŠ¤í„° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ë¡œê·¸

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### í”„ë¡œì„¸ìŠ¤ê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë˜ì§€ ì•ŠìŒ

1. Master Orchestrator ë“±ë¡ í™•ì¸:

   ```
   Task: ğŸš€ Master: Check Status
   ```

2. ìˆ˜ë™ ì‹œì‘:

   ```
   Task: ğŸš€ Master: Start Orchestrator
   ```

### ì—…ê·¸ë ˆì´ë“œê°€ ì ìš©ë˜ì§€ ì•ŠìŒ

1. ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œ ì‹¤í–‰:

   ```
   Task: ğŸ”§ Upgrade: Detect and Apply
   ```

2. ë¡œê·¸ í™•ì¸:

   ```powershell
   Get-Content outputs/auto_upgrade_log.jsonl -Tail 10
   ```

### ë°±ì—…ì´ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

1. ìŠ¤ì¼€ì¤„ í™•ì¸:

   ```
   Task: ğŸ’¾ Backup: Check Status
   ```

2. ìˆ˜ë™ ë°±ì—…:

   ```
   Task: ğŸ’¾ Backup: Run Now
   ```

### ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸

```
Task: ğŸ¥ Health: Full System Check
```

- ëª¨ë“  ì²´í¬ê°€ âœ“ì¸ì§€ í™•ì¸
- âœ—ê°€ ìˆë‹¤ë©´ `Auto-Fix Issues` ì‹¤í–‰

## ì¥ì 

âœ… **ì™„ì „ ììœ¨**: ì¬ë¶€íŒ…í•´ë„ ì•„ë¬´ ì‘ì—… í•„ìš” ì—†ìŒ  
âœ… **ìë™ ë³µêµ¬**: ë¬¸ì œ ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ í•´ê²° ì‹œë„  
âœ… **ìë™ ì—…ê·¸ë ˆì´ë“œ**: ìƒˆ ê¸°ëŠ¥ì´ ìë™ìœ¼ë¡œ ì ìš©ë¨  
âœ… **ì•ˆì „í•œ ë°±ì—…**: ë§¤ì¼ ìë™ ë°±ì—…ìœ¼ë¡œ ë°ì´í„° ë³´í˜¸  
âœ… **íˆ¬ëª…ì„±**: ëª¨ë“  ì‘ì—…ì´ ë¡œê·¸ì— ê¸°ë¡ë¨  
âœ… **Zero-Touch**: ì‹ ê²½ ì“¸ í•„ìš” ì—†ìŒ!

## ë‹¤ìŒ ë‹¨ê³„

ì´ì œ ì¬ë¶€íŒ…ì„ í•´ë„ ëª¨ë“  ê²ƒì´ ìë™ìœ¼ë¡œ ë³µêµ¬ë©ë‹ˆë‹¤! ğŸ‰

ë” ì´ìƒ ìˆ˜ë™ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ê±°ë‚˜ ì„¤ì •ì„ ë³µêµ¬í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.  
ì‹œìŠ¤í…œì´ ìŠ¤ìŠ¤ë¡œë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-01  
**ë²„ì „**: v1.0 - Complete Autonomous System
